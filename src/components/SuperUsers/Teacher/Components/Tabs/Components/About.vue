<template>
  <div class="about-container">
    <div class="about-content">
      
      <div class="about-content-item"> 
        <h1 class="about-title"> Resumo </h1>
        <h3 class="as">
          bla bla bla bla bla bla bla bla bla bla blablaablablablablablaa<br>
          blablablablablablablablablablablablablablablablablabla<br>
          blablablablablablablablablablablablablablablablablablabla<br>
          blablablablablablablablablablablablablablablablablabla<br>
          blablablablablablablablablablablablablablablablablablabla<br>
        </h3>  
      </div>

      <div class="about-content-item"> 
        <h1 class="about-title"> Formação </h1>
        <h3 class="as">
          bla bla bla bla bla bla bla bla bla bla blabla <br>
          blablablablablablablablablablablablablablablablablabla<br>
          blablablablablablablablablablablablablablablablablablabla<br>
          blablablablablablablablablablablablablablablablablabla<br>
          blablablablablablablablablablablablablablablablablablabla<br>
        </h3>  
      </div>

      <div class="about-content-item"> 
        <h1 class="about-title"> Contato </h1>
        <div>
          <svg class="social-icons" enable-background="new 0 0 512.002 512.002" version="1.1" viewBox="0 0 512.002 512.002" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
            <circle cx="256" cy="256" r="256" fill="#4E598F"/>
            <path d="m511.6 241.7l-120.58-120.62c-1.998 0.605-6.982-1.714-9.173-1.274-51.717 8.62-101.71 0-151.7 13.791-24.135 6.896-25.859 36.202-34.478 55.165-12.067 34.478-10.343 72.404-25.859 105.16-10.343 22.411-34.478 36.202-43.098 62.061-2.875 10.785-2.705 24.379-5.956 34.69l120.98 120.92c4.725 0.26 9.48 0.403 14.269 0.403 141.38 0 256-114.62 256-256 1e-3 -4.8-0.142-9.567-0.404-14.301z" fill="#364270"/>
            <g fill="#fff">
            	<path d="m363.04 109.47h-214.08c-21.809 0-39.49 17.68-39.49 39.49v214.08c0 21.811 17.68 39.49 39.49 39.49h105.58l0.183-104.72h-27.21c-3.536 0-6.406-2.86-6.418-6.396l-0.133-33.759c-0.014-3.553 2.867-6.444 6.42-6.444h27.162v-32.618c0-37.852 23.118-58.463 56.884-58.463h27.71c3.543 0 6.42 2.874 6.42 6.42v28.463c0 3.546-2.874 6.42-6.416 6.42l-17.006 0.01c-18.363 0-21.921 8.725-21.921 21.533v28.239h40.351c3.848 0 6.83 3.358 6.375 7.173l-4.001 33.759c-0.381 3.232-3.122 5.665-6.375 5.665h-36.168l-0.183 104.73h62.826c21.809 0 39.49-17.682 39.49-39.491v-214.09c1e-3 -21.809-17.68-39.49-39.489-39.49z"/>
            	<polygon points="254.54 402.53 254.72 297.81 254.28 297.81 254.28 402.53"/>
            </g>
            <path d="m363.04 109.47h-108.77v141.74h0.269v-32.617c0-37.852 23.118-58.463 56.884-58.463h27.71c3.543 0 6.42 2.874 6.42 6.42v28.463c0 3.546-2.874 6.42-6.416 6.42l-17.006 0.01c-18.363 0-21.921 8.725-21.921 21.533v28.238h40.351c3.848 0 6.83 3.358 6.375 7.173l-4.001 33.759c-0.381 3.232-3.122 5.665-6.375 5.665h-36.168l-0.183 104.73h62.826c21.809 0 39.49-17.682 39.49-39.491v-214.09c1e-3 -21.809-17.68-39.49-39.489-39.49z" fill="#D1D1D1"/>
          </svg>
          
          <svg class="social-icons" enable-background="new 0 0 512 512" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
            <circle cx="256" cy="256" r="256" fill="#65A2D9"/>
            <path d="m393.01 139.33c-26.703 23.169-53.253 43.475-74.954 71.852-53.381 64.372-118.61 155.7-207.39 142.09l158.61 158.4c134.46-6.873 241.5-117.49 242.69-253.38l-118.96-118.96z" fill="#3A7CA5"/>
            <path d="m397.87 162.47c-6.513 2.889-13.271 5.167-20.208 6.815 7.644-7.261 13.39-16.346 16.631-26.484 0.926-2.893-2.219-5.398-4.832-3.848-9.65 5.725-20.044 10.016-30.894 12.762-0.628 0.16-1.276 0.24-1.929 0.24-1.979 0-3.896-0.733-5.411-2.065-11.542-10.174-26.39-15.777-41.805-15.777-6.672 0-13.405 1.04-20.016 3.091-20.487 6.353-36.295 23.254-41.257 44.103-1.86 7.818-2.362 15.648-1.496 23.264 0.097 0.876-0.314 1.486-0.569 1.772-0.45 0.502-1.084 0.791-1.745 0.791-0.072 0-0.15-3e-3 -0.224-0.01-44.846-4.168-85.287-25.772-113.87-60.837-1.455-1.789-4.253-1.569-5.415 0.422-5.596 9.606-8.554 20.589-8.554 31.766 0 17.127 6.884 33.27 18.837 45.039-5.027-1.193-9.893-3.07-14.414-5.582-2.188-1.214-4.877 0.35-4.908 2.851-0.31 25.445 14.588 48.087 36.905 58.282-0.45 0.01-0.9 0.014-1.35 0.014-3.537 0-7.121-0.338-10.645-1.015-2.463-0.467-4.532 1.867-3.768 4.253 7.246 22.618 26.717 39.288 50.021 43.07-19.339 12.983-41.863 19.83-65.302 19.83l-7.306-3e-3c-2.255 0-4.16 1.469-4.73 3.65-0.565 2.145 0.474 4.413 2.396 5.53 26.412 15.372 56.541 23.495 87.138 23.495 26.784 0 51.838-5.313 74.466-15.798 20.745-9.609 39.076-23.345 54.486-40.827 14.357-16.286 25.581-35.085 33.365-55.879 7.418-19.816 11.34-40.967 11.34-61.154v-0.964c0-3.241 1.465-6.291 4.024-8.37 9.706-7.882 18.16-17.158 25.122-27.572 1.84-2.748-1.06-6.196-4.084-4.855z" fill="#fff"/>
            <path d="m397.87 162.47c-6.515 2.889-13.271 5.167-20.208 6.815 7.644-7.261 13.39-16.346 16.632-26.484 0.926-2.893-2.219-5.398-4.832-3.848-9.65 5.725-20.044 10.016-30.894 12.762-0.628 0.16-1.276 0.24-1.929 0.24-1.979 0-3.896-0.733-5.411-2.065-11.542-10.174-26.39-15.777-41.805-15.777-6.671 0-13.405 1.04-20.016 3.091-14.322 4.441-26.343 14.048-33.985 26.546v205.48c6.222-2.029 12.293-4.403 18.198-7.139 20.745-9.609 39.076-23.345 54.486-40.827 14.357-16.287 25.581-35.085 33.365-55.879 7.418-19.816 11.34-40.967 11.34-61.154v-0.964c0-3.241 1.465-6.291 4.024-8.37 9.706-7.882 18.16-17.158 25.122-27.572 1.837-2.745-1.063-6.193-4.087-4.852z" fill="#D1D1D1"/>
          </svg>

          <svg class="social-icons" enable-background="new 0 0 512 512" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
            <circle cx="256" cy="256" r="256" fill="#75B73B"/>
            <path d="m360.24 151.83c-14.843-3.712-36.671-16.532-50.8-21.671-55.165-17.239-129.29-3.448-149.98 60.337-1.724 1.724-5.172 1.724-6.896 1.724-41.374 48.269-13.791 106.88-17.239 160.32-1.177 18.839-11.083 35.497-23.831 49.588l107.28 107.17c12.154 1.77 24.578 2.703 37.223 2.703 126.44 0 231.45-91.665 252.25-212.16l-148.01-148.01z" fill="#52891D"/>
            <g fill="#fff">
            	<path d="m248.84 108.45c-78.029 3.712-139.6 68.696-139.37 146.81 0.072 23.792 5.816 46.249 15.95 66.095l-15.557 75.514c-0.841 4.086 2.843 7.663 6.901 6.701l73.995-17.53c19.011 9.471 40.364 14.939 62.962 15.284 79.753 1.219 146.25-62.105 148.74-141.83 2.662-85.458-67.868-155.13-153.62-151.05zm88.293 227.49c-21.669 21.669-50.483 33.604-81.13 33.604-17.944 0-35.126-4.027-51.066-11.966l-10.302-5.134-45.37 10.747 9.549-46.356-5.075-9.943c-8.276-16.206-12.472-33.728-12.472-52.084 0-30.648 11.935-59.459 33.604-81.13 21.476-21.478 50.759-33.604 81.134-33.604 30.644 0 59.458 11.935 81.127 33.604s33.604 50.483 33.604 81.127c2e-3 30.376-12.126 59.658-33.603 81.135z"/>
            	<path d="m327.12 286.58l-28.384-8.149c-3.729-1.069-7.749-0.01-10.468 2.76l-6.942 7.07c-2.926 2.984-7.366 3.941-11.24 2.374-13.427-5.434-41.672-30.548-48.881-43.106-2.084-3.624-1.739-8.152 0.817-11.462l6.058-7.839c2.374-3.07 2.874-7.197 1.305-10.747l-11.941-27.008c-2.86-6.468-11.126-8.352-16.527-3.784-7.921 6.701-17.32 16.88-18.461 28.16-2.015 19.887 6.515 44.954 38.762 75.055 37.257 34.778 67.094 39.369 86.523 34.664 11.019-2.667 19.825-13.365 25.379-22.126 3.791-5.977 0.795-13.909-6-15.862z"/>
            </g>
            <g fill="#D1D1D1">
            	<path d="m356 147.71l-22.223 22.778c1.131 1.045 2.257 2.096 3.351 3.191 21.67 21.669 33.604 50.483 33.604 81.127 0 30.375-12.128 59.656-33.604 81.134-21.669 21.669-50.483 33.604-81.13 33.604-17.944 0-35.125-4.027-51.066-11.966l-10.302-5.134-45.37 10.747 0.938-4.553-40.174 41.172c0.886 2.663 3.705 4.475 6.734 3.758l73.995-17.53c19.011 9.471 40.364 14.939 62.962 15.284 79.753 1.219 146.25-62.105 148.74-141.83 1.375-44.134-16.773-84.056-46.455-111.78z"/>
            	<path d="m327.12 286.58l-28.384-8.149c-3.729-1.069-7.749-0.01-10.468 2.76l-6.942 7.07c-2.926 2.984-7.366 3.941-11.24 2.374-7.756-3.139-20.451-12.845-31.185-22.904l-19.732 20.225c0.677 0.648 1.352 1.295 2.05 1.948 37.257 34.778 67.094 39.369 86.523 34.664 11.019-2.667 19.825-13.365 25.379-22.126 3.79-5.977 0.794-13.909-6.001-15.862z"/>
            </g>
          </svg>

          <svg class="social-icons" enable-background="new 0 0 512.002 512.002" version="1.1" viewBox="0 0 512.002 512.002" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
            <circle cx="256" cy="256" r="256" fill="#4376B1"/>
            <path d="m511.02 233.63l-116.29-116.44c-71.035 9.237-145.27 7.859-216.3 9.511-29.306 0-58.613 13.791-53.441 46.545 10.343 65.508 15.515 129.29 3.448 196.52-1.9 8.545-5.897 17.089-11.117 25.059l116.17 116.17c7.421 0.646 14.929 0.996 22.519 0.996 141.38 0 256-114.62 256-256 2e-3 -7.54-0.343-14.996-0.983-22.367z" fill="#369"/>
            <path d="m376.02 109.47h-240.04c-14.643 0-26.51 11.867-26.51 26.51v240.04c0 14.639 11.867 26.51 26.51 26.51h240.04c14.639 0 26.51-11.871 26.51-26.51v-240.04c2e-3 -14.643-11.869-26.51-26.508-26.51zm-175.87 253.05c0 4.263-3.453 7.716-7.716 7.716h-32.837c-4.263 0-7.716-3.455-7.716-7.716v-137.66c0-4.263 3.455-7.716 7.716-7.716h32.839c4.263 0 7.716 3.455 7.716 7.716v137.66h-2e-3zm-24.135-158.36c-17.23 0-31.196-13.969-31.196-31.201 0-17.229 13.965-31.196 31.196-31.196 17.232 0 31.198 13.969 31.198 31.196 0 17.234-13.967 31.201-31.198 31.201zm195.75 158.98c0 3.918-3.175 7.096-7.09 7.096h-35.242c-3.915 0-7.092-3.177-7.092-7.096v-64.574c0-9.63 2.826-42.21-25.172-42.21-21.719 0-26.124 22.3-27.008 32.304v74.478c0 3.918-3.175 7.096-7.094 7.096h-34.082c-3.918 0-7.096-3.177-7.096-7.096v-138.9c0-3.918 3.177-7.096 7.096-7.096h34.082c3.918 0 7.094 3.177 7.094 7.096v12.009c8.054-12.085 20.023-21.416 45.502-21.416 56.425 0 56.105 52.717 56.105 81.686v66.627h-3e-3z" fill="#fff"/>
            <path d="m376.02 109.47h-120.6v107.67h7.647c3.918 0 7.094 3.177 7.094 7.096v12.009c8.054-12.085 20.023-21.416 45.503-21.416 56.425 0 56.105 52.717 56.105 81.686v66.625c0 3.918-3.175 7.096-7.09 7.096h-35.242c-3.915 0-7.092-3.177-7.092-7.096v-64.574c0-9.63 2.826-42.21-25.172-42.21-21.719 0-26.124 22.3-27.008 32.304v74.478c0 3.918-3.175 7.096-7.094 7.096h-7.647v32.301h120.6c14.639 0 26.51-11.871 26.51-26.51v-240.04c-4e-3 -14.643-11.875-26.51-26.514-26.51z" fill="#D1D1D1"/>
          </svg>

          <svg class="social-icons" enable-background="new 0 0 512 512" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
            <circle cx="256" cy="256" r="256" fill="#CF4C3C"/>
            <path d="m372.97 215.51l-36.521 43.939-68.763-71.518h-95.008l-38.453 41.637v89.912l184.62 184.74c83.594-21.102 150.82-83.318 178.92-163.89l-124.8-124.82z" fill="#AD3228"/>
            <path d="m212.29 275.34h45.789c-8.037 22.721-29.806 39.012-55.287 38.826-30.92-0.228-56.491-24.964-57.689-55.863-1.286-33.12 25.285-60.478 58.123-60.478 15.017 0 28.72 5.723 39.05 15.098 2.448 2.22 6.17 2.236 8.578-0.031l16.818-15.825c2.631-2.476 2.639-6.658 0.016-9.14-16.382-15.524-38.359-25.198-62.595-25.669-51.69-1.012-95.261 41.37-95.62 93.07-0.365 52.09 41.75 94.429 93.753 94.429 50.014 0 90.869-39.159 93.605-88.485 0.072-0.619 0.121-21.52 0.121-21.52h-84.661c-3.47 0-6.282 2.813-6.282 6.282v23.024c-1e-3 3.469 2.812 6.282 6.281 6.282z" fill="#fff"/>
            <path d="m374.53 241.85v-22.497c0-3.041-2.463-5.504-5.504-5.504h-18.934c-3.041 0-5.506 2.463-5.506 5.504v22.497h-22.492c-3.041 0-5.51 2.463-5.51 5.506v18.932c0 3.039 2.467 5.506 5.51 5.506h22.492v22.494c0 3.041 2.463 5.506 5.506 5.506h18.934c3.041 0 5.504-2.465 5.504-5.506v-22.494h22.497c3.039 0 5.506-2.467 5.506-5.506v-18.932c0-3.041-2.467-5.506-5.506-5.506h-22.497z" fill="#D1D1D1"/>
          </svg>

          <svg class="social-icons" enable-background="new 0 0 512 512" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
            <circle cx="256" cy="256" r="256" fill="#D22215"/>
            <path d="m384.86 170.34c-7.677 2.343-15.682 4.356-23.699 6.361-56.889 12.067-132.74-20.687-165.5 32.754-27.317 42.494-35.942 95.668-67.017 133.66l165.98 165.98c110.47-16.72 197.77-104.04 214.48-214.51l-124.25-124.25z" fill="#A81411"/>
            <path d="m341.65 152.33h-171.3c-33.608 0-60.852 27.245-60.852 60.852v85.632c0 33.608 27.245 60.852 60.852 60.852h171.3c33.608 0 60.852-27.245 60.852-60.852v-85.632c0-33.607-27.245-60.852-60.852-60.852zm-41.155 107.83l-80.12 38.212c-2.136 1.019-4.603-0.536-4.603-2.901v-78.814c0-2.4 2.532-3.955 4.67-2.87l80.12 40.601c2.386 1.207 2.343 4.624-0.067 5.772z" fill="#fff"/>
            <path d="m341.65 152.33h-87.373v78.605l46.287 23.455c2.384 1.208 2.341 4.624-0.069 5.773l-46.218 22.044v77.459h87.373c33.608 0 60.852-27.245 60.852-60.852v-85.632c0-33.607-27.245-60.852-60.852-60.852z" fill="#D1D1D1"/>
          </svg>

        </div>  
      </div>

      <!--<div v-if="isOwner">
        <button v-if="!focused" @click="focus()"> <IconEdit /> </button>
        <button v-if="focused" @click="postData(), focused = false"> <IconOk /> </button>
      </div>
      <h1 class="about-title"> Formação </h1>
      <h1 class="about-title"> Contato </h1> -->
    </div>

  </div>
</template>


<script>
import axios from "axios";
import { url } from "../../../../../_mixins/url";
import { edit } from "../../../../../_mixins/edit";
import IconEdit from "../../../../../_utils/Svgs/IconEdit";
import IconOk from "../../../../../_utils/Svgs/IconOk";

export default {
  components: { IconEdit, IconOk },

  mixins: [url, edit],

  data() {
    return {
      professor: [],
      username: this.$route.params.targetName,
      nome: "",
      sobrenome: "",
      sobre: "",
      focused: false,
      disabled: true,
      edit: false,
      id: ""
    };
  },

  computed: {
    isOwner: function() {
      if (this.username == localStorage.username) {
        return true;
      }
    }
  },

  created() {
    this.init();

    this.$bus.$on("selectProfessor", username => {
      console.log("ABOUT ON SELECT PROFESSOR");

      this.refresh(username);
    });
  },

  methods: {
    refresh(username) {
      this.username = username;
      let t = this.professor.find(x => x.username === username);
      this.id = t.id;
      this.nome = t.nome;
      this.sobrenome = t.sobrenome;
      this.sobre = t.sobre;
    },

    init() {
      axios.get(`${this.BASE_URL}api/professores`).then(res => {
        this.professor = res.data;
        this.refresh(this.username);
      });
    },

    focus() {
      //this.disabled = false;
      this.focused = true;
      //this.$refs.sobre.focus();
    },

    postData() {
      this.disabled = true;

      this.route = "api/professores/";
      this.datas = {
        id: this.id,
        sobre: this.sobre
      };

      axios
        .put(`${this.BASE_URL}api/professores/${this.id}`, {}, this.datas)
        .then(res => {
          console.log('PUT SOBREE');
          console.log(res);
          
          this.professor = res.data;
          this.refresh(this.username);
        });
    }
  }
};
</script>


<style>
.about-container
{
  background: white;
  min-height: 25em;
  max-width: 100%;
}

.about-content
{
  margin: 0 2%;
}

.about-title
{
  font-size: 1.3em;
}

.about-content-item
{
  border-bottom: 1px #ddd solid;
}

.about-content-item:nth-child(3)
{
  border-bottom: none;
}

.social-icons:nth-child(1)
{
  margin-left: 0;
}

.social-icons
{
  cursor: pointer;
  width: 3em;
  margin-left: 1.5%;
}

.social-icons:hover
{
    opacity: .8;
}

.as
{
  margin-top: 1%;
}

</style>
